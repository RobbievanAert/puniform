{
    "collab_server" : "",
    "contents" : "#' hybrid\n#'\n#' Function to statistically combine an original study and replication by means\n#' of the hybrid methods and fixed-effect meta-analysis as described in Van Aert\n#' and Van Assen (2016).\n#' \\cr\n#' \\cr\n#' Please note that this package is still under development and that this is a\n#' beta version. If you suspect a bug, please send me an email\n#' (\\email{R.C.M.vanAert@@tilburguniversity.edu}).\n#'\n#' @param mi A vector of group means for one-sample means\n#' @param ri A vector of raw correlations\n#' @param ni A vector of sample sizes for one-sample means and correlations\n#' @param sdi A vector of standard deviations for one-sample means\n#' @param m1i A vector of means in group 1 for two-independent means\n#' @param m2i A vector of means in group 2 for two-independent means\n#' @param n1i A vector of sample sizes in group 1 for two-independent means\n#' @param n2i A vector of sample sizes in group 2 for two-independent means\n#' @param sd1i A vector of standard deviations in group 1 for two-independent\n#' means\n#' @param sd2i A vector of standard deviations in group 2 for two-independent\n#' means\n#' @param tobs A vector of t-values\n#' @param alpha A integer specifying the alpha level as used in the original\n#' study (default is 0.05).\n#' @param side A character indicating whether the observed effect size of the\n#' original study is in the right-tail of the distribution (i.e., positive) or\n#' in the left-tail of the distribution (i.e., negative) (either \\code{\"right\"}\n#' or \\code{\"left\"})\n#'\n#' @details Three different effect sizes can be used as input for the\n#' \\code{hybrid} function: one-sample means, two-independent means, and raw\n#' correlation coefficients. Analyzing one-sample means and two-independent\n#' means can be done by either providing the function group means (\\code{mi} or\n#' \\code{m1i} and \\code{m2i}), standard deviations (\\code{sdi} or \\code{sd1i}\n#' and \\code{sd2i}), and sample sizes (\\code{ni} or \\code{n1i} and \\code{n2i})\n#' or t-values (\\code{tobs}) and sample sizes (\\code{ni} or \\code{n1i}\n#' and \\code{n2i}). Both options should be accompanied with input for the\n#' arguments \\code{side} and \\code{method}. See the Example section for an\n#' example. Raw correlation coefficients can be analyzed by supplying \\code{ri}\n#'  and \\code{ni} to the \\code{puniform} function next to input for the\n#'arguments \\code{side} and \\code{method}. The vectors containing data of the\n#'original study and replication should always be of length two; the first\n#'element should contain information about the original study and the second\n#'element should contain information about the replication.\n#'\n#' The hybrid methods assume that the original study is statistically\n#' significant and a two-tailed hypothesis test was conducted in the original\n#' study. In case a one-tailed hypothesis tests was conducted in the original\n#' study, the alpha level has to be multiplied by two. For example, if a\n#' one-tailed hypothesis test was conducted with an alpha level of .05, an alpha\n#'  of 0.1 has to be entered into the \\code{hybrid} function.\n#'\n#' @return\n#' \\item{est.hy}{effect size estimate of hybrid method}\n#' \\item{ci.lb.hy}{lower bound of hybrid method's confidence interval}\n#' \\item{ci.ub.hy}{upper bound of hybrid method's confidence interval}\n#' \\item{x.hy}{test statistic of hybrid method's test of null-hypothesis of no\n#' effect}\n#' \\item{pval.hy}{two-tailed p-value of hybrid method's test of null-hypothesis\n#'  of no effect}\n#' \\item{measure}{effect size measure}\n#' \\item{est.hyr}{effect size estimate of hybridR method}\n#' \\item{ci.lb.hyr}{lower bound of hybridR method's confidence interval}\n#' \\item{ci.ub.hyr}{upper bound of hybridR method's confidence interval}\n#' \\item{stat.hyr}{test statistic of hybridR method's test of null-hypothesis of\n#'  no effect}\n#' \\item{pval.hyr}{two-tailed p-value of hybridR method's test of\n#' null-hypothesis of no effect}\n#' \\item{pval.o}{two-tailed p-value of original study}\n#' \\item{est.hy0}{effect size estimate of hybrid0 method}\n#' \\item{ci.lb.hy0}{lower bound of hybrid0 method's confidence interval}\n#' \\item{ci.ub.hy0}{upper bound of hybrid0 method's confidence interval}\n#' \\item{x.hy0}{test statistic of hybrid0 method's test of null-hypothesis of no\n#' effect}\n#' \\item{pval.hy0}{two-tailed p-value of hybrid0 method's test of\n#' null-hypothesis of no effect}\n#' \\item{est.fe}{effect size estimate based on traditional fixed-effect\n#' meta-analysis}\n#' \\item{se.fe}{standard error of effect size estimate based on traditional\n#' fixed-effect meta-analysis}\n#' \\item{zval.fe}{test statistic of the null-hypothesis of no effect based on\n#' traditional fixed-effect meta-analysis}\n#' \\item{pval.fe}{two-tailed p-value of the null-hypothesis of no effect based\n#' on traditional fixed-effect meta-analysis}\n#' \\item{ci.lb.fe}{lower bound of confidence interval based on traditional\n#' fixed-effect meta-analysis}\n#' \\item{ci.ub.fe}{upper bound of confidence interval based on\n#' traditional fixed-effect meta-analysis}\n#' \\item{est.repl}{effect size estimate of replication}\n#' \\item{se.repl}{standard error of replication's effect size estimate}\n#' \\item{ci.lb.repl}{lower bound of replication's confidence interval}\n#' \\item{ci.ub.repl}{upper bound of replication's confidence interval}\n#' \\item{stat.repl}{test statistic of replication for testing null-hypothesis of\n#'  no effect}\n#' \\item{pval.repl}{two-tailed p-value of replication for testing\n#' null-hypothesis of no effect}\n#'\n#' @author Robbie C.M. van Aert \\email{R.C.M.vanAert@@tilburguniversity.edu}\n#'\n#' @references Van Aert, R. C. M., & Van Assen, M. A. L. M. (2016). Examining\n#' reproducibility in psychology: A hybrid method for statistically combining a\n#' biased original study and replication. Manuscript submitted for publication.\n#'\n#' @examples\n#' ### Apply hybrid function to example on page 5 of Van Aert and Van Assen (2016).\n#'\n#' hybrid(tobs = c(2.211,1.04), n1i = c(40,80), n2i = c(40,80), alpha = .05, side = \"right\")\n#'\n#' @export\n\nhybrid <- function(m1i, m2i, mi, ri, sd1i, sd2i, sdi, n1i, n2i, ni, tobs, alpha, side) {\n\n  if (!missing(\"mi\") & !missing(\"ni\") & !missing(\"sdi\")) {\n    measure <- \"M\"\n    es <- escompute(mi = mi, ni = ni, sdi = sdi, alpha = alpha/2, side = side, measure = measure)\n    res.repl <- repl(es = es, mi = mi, sdi = sdi, ni = ni, measure = measure, side = side)\n  } else if (!missing(\"ni\") & !missing(\"tobs\")) {\n    measure <- \"MT\"\n    es <- escompute(ni = ni, tobs = tobs, alpha = alpha/2, side = side, measure = measure)\n    res.repl <- repl(es = es, tobs = tobs, measure = measure, side = side)\n  } else if (!missing(\"m1i\") & !missing(\"m2i\") & !missing(\"n1i\") & !missing(\"n2i\") & !missing(\"sd1i\") & !missing(\"sd2i\")) {\n    measure <- \"MD\"\n    es <- escompute(m1i = m1i, m2i = m2i, n1i = n1i, n2i = n2i, sd1i = sd1i, sd2i = sd2i, alpha = alpha/2, side = side, measure = measure)\n    res.repl <- repl(es = es, m1i = m1i, m2i = m2i, n1i = n1i, n2i = n2i, sd1i = sd1i, sd2i = sd2i, measure = measure, side = side)\n  } else if (!missing(\"n1i\") & !missing(\"n2i\") & !missing(\"tobs\")) {\n    measure <- \"MDT\"\n    es <- escompute(n1i = n1i, n2i = n2i, tobs = tobs, alpha = alpha/2, side = side, measure = measure)\n    res.repl <- repl(es = es, tobs = tobs, measure = measure, side = side)\n  } else if (!missing(\"ri\") & !missing(\"ni\")) {\n    measure <- \"COR\"\n    es <- escompute(ri = ri, ni = ni, alpha = alpha/2, side = side, measure = measure)\n    res.repl <- repl(es = es, measure = measure, side = side)\n  }\n\n  if (es$pval[1] > alpha/2) { stop(\"Original study is not statistically significant\") }\n\n  res1 <- hy(es = es, measure = measure, side = side, alpha = alpha/2)\n\n  if (es$pval[1] < alpha/4) {\n    res2 <- data.frame(est.hyr = res1$est.hy, ci.lb.hyr = res1$ci.lb.hy, ci.ub.hyr = res1$ci.ub.hy, stat.hyr = res1$x.hy, pval.hyr = res1$pval.hy, pval.o = res.repl$pval.o)\n  } else { res2 <- data.frame(est.hyr = res.repl$est.repl, ci.lb.hyr = res.repl$ci.lb.repl, ci.ub.hyr = res.repl$ci.ub.repl, stat.hyr = res.repl$stat.repl,\n                              pval.hyr = res.repl$pval.repl, pval.o = res.repl$pval.o)\n  }\n\n  res3 <- hy0(es = es, res1 = res1, alpha = alpha/2)\n\n  res4 <- fix(yi = es$yi, vi = es$vi, measure = measure, side = side)\n\n  w <- list(est.hy = res1$est, ci.lb.hy = res1$ci.lb, ci.ub.hy = res1$ci.ub, x.hy = res1$x, pval.hy = res1$pval, measure = measure, est.hyr = res2$est.hyr,\n            ci.lb.hyr = res2$ci.lb.hyr, ci.ub.hyr = res2$ci.ub.hyr, stat.hyr = res2$stat.hyr, pval.hyr = res2$pval.hyr, pval.o = res2$pval.o, est.hy0 = res3$est.hy0,\n            ci.lb.hy0 = res3$ci.lb.hy0, ci.ub.hy0 = res3$ci.ub.hy0, x.hy0 = res3$x.hy0, pval.hy0 = res3$pval.hy0, est.fe = res4$est.fe, se.fe = res4$se.fe,\n            ci.lb.fe = res4$ci.lb.fe, ci.ub.fe = res4$ci.ub.fe, zval.fe = res4$zval.fe, pval.fe = res4$pval.fe, est.repl = res.repl$est.repl, se.repl = res.repl$se.repl,\n            ci.lb.repl = res.repl$ci.lb.repl, ci.ub.repl = res.repl$ci.ub.repl, stat.repl = res.repl$stat.repl, pval.repl = res.repl$pval.repl)\n  class(w) <- \"hybridoutput\"\n  return(w)\n}\n",
    "created" : 1457010185434.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3028501349",
    "id" : "9092B63",
    "lastKnownWriteTime" : 1457534176,
    "last_content_update" : 1457534176863,
    "path" : "D:/Dropbox/Werk/Onderzoek/Code/puniform/R/GIT_Hybrid function_3.R",
    "project_path" : "R/GIT_Hybrid function_3.R",
    "properties" : {
    },
    "relative_order" : 0,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}